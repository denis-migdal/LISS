<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>LISS Example (Ensure Initalization)</title>
	<script type="module">
		import LISS from '../dist/index.js';

		class MyComponent extends LISS() {

			constructor() {

				super();

				// WebComponent is not yet initialized.

				try {
					this.self; // access the WebComponent attributes and children.
				} catch(e) { console.error("this.self", e) } 

				try {
					this.content; // access the WebComponent content.
				} catch(e) { console.error("this.content", e) } 

				try {
					this.assertInit(); // raises an exception if not yet initialized.
				} catch(e) { console.error("this.assertInit()", e) } 
			}

			init() {
				console.log('Initialized');
				this.content.append( this.self.dataset.content );

				// initialization isn't over yet.
				this.assertInit();
			}
		}

		LISS.define('my-component', MyComponent);
	</script>
</head>
<body>
	<my-component data-content="Hello World ;)"></my-component>
</body>
</html>