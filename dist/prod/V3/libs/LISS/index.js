var t,e,n,s,r={7068:(t,e,n)=>{n.a(t,(async(t,s)=>{try{n.d(e,{A:()=>i});var r=n(7269),a=(n(7220),n(153)),o=(n(6771),n(6634),n(4792),t([a]));a=(o.then?(await o)():o)[0],r.A.VERSION="V3";const i=r.A;globalThis.LISS=r.A,s()}catch(t){s(t)}}))},3305:(t,e,n)=>{n.d(e,{A:()=>o});var s=n(3058),r=n(1912);const a=/\$\{(.+?)\}/g;class o extends s.A{prepareTemplate(t){this.data=null,"string"!=typeof t?super.prepareTemplate(t):this.data=t}fillContent(t){if(null!==this.data){const e=this.data.replace(a,((e,n)=>{const s=t.host.getAttribute(n);return null===s?"":(0,r.A)(s)}));super.prepareTemplate(e)}super.fillContent(t)}}},3058:(t,e,n)=>{n.d(e,{A:()=>c});var s=n(2734),r=n(2841),a=n(1122),o=n(7107),i=n(1063);const l=new CSSStyleSheet;class c{data;constructor({html:t,css:e=[]}={}){const n=(0,s.r)(t)&&(0,s.r)(e)&&(0,o.A)();n&&this.prepare(t,e);const r=Promise.all([(0,s.f)(t),(0,s.f)(e),(0,i.A)()]);r.then((t=>this.prepare(t[0],t[1]))),this.isReady=n,this.whenReady=r}whenReady;isReady=!1;stylesheets=[];template=null;prepare(t,e){void 0!==t&&this.prepareTemplate(t),void 0!==e&&this.prepareStyle(e)}prepareTemplate(t){this.template=(0,r.A)(t)}prepareStyle(t){Array.isArray(t)||(t=[t]),this.stylesheets=t.map((t=>(0,a.A)(t)))}initContent(t,e){let n=t;return null!==e&&(n=t.attachShadow({mode:e}),n.adoptedStyleSheets.push(l,...this.stylesheets)),this.fillContent(n),n}fillContent(t){null!==this.template&&t.replaceChildren(this.createContent()),customElements.upgrade(t)}createContent(){return this.template.cloneNode(!0)}}},7269:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(3058),r=n(7888);const a=function(t={},e){e??=r.A;const n=new(t.content_generator??s.A)(t);let a=t.shadow;return void 0===a&&(a="open"),class extends e{static SHADOW_MODE=a;static CONTENT_GENERATOR=n}}},9096:(t,e,n)=>{n.d(e,{A:()=>s});class s extends HTMLElement{static SHADOW_MODE=null;static CONTENT_GENERATOR=null;content=this;host=this;controler=this;constructor(){super();const t=this.constructor;null!==t.CONTENT_GENERATOR&&(this.content=t.CONTENT_GENERATOR.initContent(this,t.SHADOW_MODE))}static observedAttributes=[];attributeChangedCallback(t,e,n){}}},7888:(t,e,n)=>{n.d(e,{A:()=>s.A});var s=n(8289)},8289:(t,e,n)=>{n.d(e,{A:()=>i});var s=n(778),r=n(7665),a=n(8796),o=n(9263);class i extends a.A{#t=new s.A;#e=()=>this.requestUpdate();constructor(t=null){super(),null===t?(this.#t.source=(0,o.A)(this,"source",null),this.#t.value=(0,o.A)(this,"value",null)):t instanceof r.A?this.#t.source=t:(this.#t.value=t,this.#t.listen(this.#e))}set source(t){this.#t.source=t}get source(){return this.#t.source}set value(t){this.#t.value=t}get value(){return this.#t.value}}},8796:(t,e,n)=>{n.d(e,{A:()=>r});var s=n(9096);class r extends s.A{constructor(){super(),a.observe(this),this.requestUpdate()}#n=null;#s=!1;#r=!1;static processIntersectionObserver(t){for(let e=0;e<t.length;++e){const n=t[e].target,s=t[e].isIntersecting;n.#r=s,s||null===n.#n||cancelAnimationFrame(n.#n),s&&n.#s&&null===n.#n&&n.#a()}}#a(){this.#n=requestAnimationFrame((()=>{this.#n=null,this.#s=!1,!1===this.#o&&(this.#o=!0,this.onInit()),this.onUpdate()}))}requestUpdate(){this.#s||(this.#s=!0,this.#r&&this.#a())}#o=!1;onInit(){}onUpdate(){}}const a=new IntersectionObserver(r.processIntersectionObserver)},153:(t,e,n)=>{n.a(t,(async(t,e)=>{try{var s=n(3701),r=n(50),a=n(3305),o=n(8697),i=n(9189),l=n(3722),c=n(1608),u=t([r]);r=(u.then?(await u)():u)[0];const d=document.querySelector("script:is([liss-auto],[liss-cdir],[liss-sw],[liss-files])"),p=d?.getAttribute("liss-mode")??null,f=(h=d?.getAttribute("liss-files"),h?h.split(","):["js","bry","html+css"]),m=d?.getAttribute("liss-cdir")??null,_=d?.getAttribute("liss-sw")??null;function A(t){const e=new Promise((async t=>{if(null===_||""===_)return console.info("You are using LISS Auto mode without sw.js."),t();try{await navigator.serviceWorker.register(_,{scope:"/V3/assets/"})}catch(e){return console.warn("Registration of ServiceWorker failed"),console.error(e),t()}if(navigator.serviceWorker.controller)return t();navigator.serviceWorker.addEventListener("controllerchange",(()=>{t()}))}));"/"!==t[t.length-1]&&(t+="/"),new MutationObserver((t=>{for(let e of t)for(let t of e.addedNodes)"HTMLElement"===t.constructor.name&&n(t)})).observe(document,{childList:!0,subtree:!0});for(let t of document.querySelectorAll(":not(:defined)"))n(t);async function n(n){await e;const r=n.tagName.toLowerCase();s.J.has(r)||void 0!==customElements.get(r)||v(r,{cdir:t})}}async function w(t,e,n){if("html+css"===e){const e=[(0,l.A)(`${t}index.html`,!0),(0,l.A)(`${t}index.css`,!0)];let s=await Promise.all(e);return void 0!==s[0]&&(n.html=s[0],void 0!==s[1]&&(n.css=s[1]),!0)}const s=await(0,l.A)(`${t}index.${e}`,!0);return void 0!==s&&(n[e]=s,!0)}async function v(t,{cdir:e=m}={}){s.J.add(t);const n=`${e}${globalThis.LISSContext?.override_tags?.[t]??t}/`,r={};let a=!1;for(let t of f)if(a=await w(n,t,r))break;if(!a)throw new Error(`No files found for webcomponent ${t}`);return await g(t,r,n)}async function g(t,e,n){let o;return void 0!==e.js&&(o=(await(0,c.A)(e.js,"js",n)).default),void 0!==e.bry&&(o=(await(0,c.A)(e.bry,"bry",n)).default),void 0===o&&(o=(0,r.A)({content_generator:a.A,...e})),(0,s.A)(t,o),o}"auto-load"===p&&null!==m&&((0,o.A)()||await(0,i.A)(),A(m)),e()}catch(b){e(b)}var h}),1)},3701:(t,e,n)=>{n.d(e,{A:()=>a,J:()=>r});var s=n(3213);const r=new Set;async function a(t,e){if("$is_class"in e&&(e=function(t){const e=t.__bases__.filter((t=>"Wrapper"===t.__name__))[0]._js_klass.$js_func,n=__BRYTHON__.PYOBJ;return class extends e{#i;constructor(e=null){super(),null===e&&(globalThis.brython_wrapper_js=this,e=__BRYTHON__.$call(t,[0,0,0])(),globalThis.brython_wrapper_js=null),this.#i=e,this[n]=e}#l(t,...e){return __BRYTHON__.$call(__BRYTHON__.$getattr_pep657(this.#i,t,[0,0,0]),[0,0,0])(...e)}static observedAttributes=t.observedAttributes;attributeChangedCallback(...t){return this.#l("attributeChangedCallback",...t)}}}(e)),"CONTENT_GENERATOR"in e){const n=e.CONTENT_GENERATOR;n.isReady||(r.add(t),await n.whenReady)}r.delete(t),customElements.define(t,e);const n=s.L.get(e);void 0!==n&&n.resolve()}},7220:(t,e,n)=>{var s=n(3701),r=n(5645),a=n(3213),o=n(7269);o.A.define=s.A,o.A.isDefined=r.A,o.A.whenDefined=a.A},5645:(t,e,n)=>{function s(t){return"string"==typeof t?void 0!==customElements.get(t):null!==customElements.getName(t)}n.d(e,{A:()=>s})},3213:(t,e,n)=>{n.d(e,{A:()=>r,L:()=>s});const s=new WeakMap;async function r(t){if("string"==typeof t)return await customElements.whenDefined(t);if(null!==customElements.getName(t))return t;let e=s.get(t);return void 0===e&&(e=Promise.withResolvers(),s.set(t,e)),await e.promise,t}},50:(t,e,n)=>{n.a(t,(async(t,s)=>{try{n.d(e,{A:()=>i});var r=n(7269),a=(n(7220),n(153)),o=(n(6771),n(6634),n(4792),t([a]));a=(o.then?(await o)():o)[0],r.A.VERSION="V3";const i=r.A;globalThis.LISS=r.A,s()}catch(t){s(t)}}))},5540:(t,e,n)=>{n.d(e,{A:()=>r});var s=n(7665);class r extends s.A{#c=null;constructor(t=null){super(),this.#c=t,this.#c?.listen(this._callback)}_callback=()=>this.trigger();get source(){return this.#c}set source(t){this.#c!==t&&(null!==this.#c&&this.#c.unlisten(this._callback),this.#c=t,null!==this.#c?this.#c.listen(this._callback):this._callback())}get value(){return this.ack(),null===this.#c?null:this.#c.value}}},7665:(t,e,n)=>{n.d(e,{A:()=>r});var s=n(4328);class r extends s.A{_valueRead=!1;listen(t){return super.listen(t),t(this),this}trigger(){return this._valueRead?(this._valueRead=!1,super.trigger(),this):this}ack(){this._valueRead=!0}}},778:(t,e,n)=>{n.d(e,{A:()=>r});var s=n(5540);class r extends s.A{_value=null;constructor(t=null,e=null){super(e),this._value=t}set source(t){null!==t&&(this._value=null),super.source=t}get source(){return super.source}get value(){return null!==this.source?super.value:(this.ack(),this._value)}set value(t){const e=this._value;this._value=t,null===this.source?t!==e&&this.trigger():this.source=null}}},4328:(t,e,n)=>{n.d(e,{A:()=>s});class s{#u=new Array;listen(t){return this.#u.push(t),this}unlisten(t){const e=this.#u.lastIndexOf(t);return-1===e||(e!==this.#u.length-1&&(this.#u[e]=this.#u[this.#u.length-1]),--this.#u.length),this}trigger(){for(let t=0;t<this.#u.length;++t)this.#u[t](this);return this}}},9263:(t,e,n)=>{function s(t,e,n){if(!Object.hasOwn(t,e))return n;const s=t[e];return delete t[e],s}n.d(e,{A:()=>s})},7107:(t,e,n)=>{function s(){return"interactive"===document.readyState||"complete"===document.readyState}n.d(e,{A:()=>s})},8697:(t,e,n)=>{function s(){return"complete"===document.readyState}n.d(e,{A:()=>s})},1063:(t,e,n)=>{n.d(e,{A:()=>r});var s=n(7107);async function r(){if((0,s.A)())return;const{promise:t,resolve:e}=Promise.withResolvers();document.addEventListener("DOMContentLoaded",(()=>{e()}),!0),await t}},9189:(t,e,n)=>{n.d(e,{A:()=>r});var s=n(8697);async function r(){if((0,s.A)())return;const{promise:t,resolve:e}=Promise.withResolvers();document.addEventListener("load",e,!0),await t}},1912:(t,e,n)=>{n.d(e,{A:()=>r});const s=document.createElement("span");function r(t){return s.textContent=t,s.innerHTML}},8319:(t,e,n)=>{n.d(e,{A:()=>o});var s=n(7281);globalThis.getProp=function(t,e){return t[e]};const r='from browser import self\n\ndef wrapjs(js_klass):\n\n\tclass Wrapper:\n\n\t\t_js_klass = js_klass # TODO: replace ?\n\t\t_js       = None\n\n\t\tdef __new__(cls):\n\t\t\tthis = super().__new__(cls)\n\n\t\t\tif "brython_wrapper_js" in self:\n\t\t\t\tthis._js = self.brython_wrapper_js\n\t\t\telse:\n\t\t\t\t# TODO: set it during define...\n\t\t\t\tthis._js = this._js_klass.new() # no args\n\t\t\treturn this\n\n\t\tdef __getattr__(this, name: str):\n\t\t\t#print( name in this._js, dir(this._js) )\n\t\t\treturn self.getProp(this._js, name)\n\t\t\t#return this._js[name]\n\n\t\tdef __setattr__(this, name: str, value):\n\t\t\tif name == "_js":\n\t\t\t\tsuper().__setattr__(name, value)\n\t\t\t\treturn\n\t\t\tthis._js[name] = value\n\t\n\treturn Wrapper\n\nself.wrapjs = wrapjs';let a=!1;async function o(t,e){a||(await(0,s.A)(`globalThis.__BRYTHON__.runPythonSource(\`${r}\`, "_")`),a=!0);const n=`const $B = globalThis.__BRYTHON__;\n\n$B.runPythonSource(\`${t}\`, "_");\n\nconst module = $B.imported["_"];\nexport default module.DefaultExport;`;return await(0,s.A)(n,e)}},1608:(t,e,n)=>{n.d(e,{A:()=>a});var s=n(8319);const r={js:n(7281).A,bry:s.A};async function a(t,e,n){return await r[e](t,n)}},7281:(t,e,n)=>{async function s(t,e){const n=new Blob([t],{type:"application/javascript"}),s=URL.createObjectURL(n);if(void 0!==e){const t=s.slice(s.lastIndexOf("/")+1);((globalThis.LISSContext??={}).execute??={url_map:{}}).url_map[t]=e}const r=await import(s);return URL.revokeObjectURL(s),r}n.d(e,{A:()=>s})},3722:(t,e,n)=>{async function s(t,e=!1){const n=globalThis.LISSContext?.fetch;if(void 0!==n){const e=new URL(t,n.cwd),s=n.files[e.toString()];if(""===s)return;if(void 0!==s)return s}const s=e?{headers:{"liss-auto":"true","hide-404":"true"}}:{},r=await fetch(t,s);if(200!==r.status)return;if(e&&"404"===r.headers.get("status"))return;const a=await r.text();return""!==a?a:void 0}n.d(e,{A:()=>s})},6634:(t,e,n)=>{var s=n(3722);globalThis.require=async function(t){const e=(new Error).stack;let n;if(n=e.startsWith("Error")?e.split("\n")[2].slice(7):e.split("\n")[1].slice(1),!n.startsWith("blob:"))throw console.warn(n),new Error("require from non-blob import, unimplemented");return n=n.slice(n.lastIndexOf("/")+1),n=n.slice(0,n.indexOf(":")),t=LISSContext.execute.url_map[n]+t,await(0,s.A)(t)}},2734:(t,e,n)=>{function s(t){return Array.isArray(t)?t.every((t=>s(t))):void 0===t||!(t instanceof Promise||t instanceof Response)}async function r(t){return Array.isArray(t)?await Promise.all(t.map((t=>r(t)))):(t instanceof Promise&&(t=await t),t instanceof Response&&(t=await t.text()),t)}n.d(e,{f:()=>r,r:()=>s})},3218:(t,e,n)=>{n.d(e,{A:()=>o});var s=n(6372);const r=document.createElement("template"),a=r.content;function o(...t){let e=t[0];if((0,s.A)(t)){const n=t[0];let s=n[0];for(let e=1;e<t.length;++e)s+=t[e],s+=n[e];e=s}if(r.innerHTML=e,1!==a.childNodes.length)throw new Error("Error");return a.firstChild}},6771:(t,e,n)=>{var s=n(7269),r=n(3218),a=n(2841),o=n(1122);s.A.style=o.A,s.A.template=a.A,s.A.html=r.A},6372:(t,e,n)=>{function s(t){return Array.isArray(t[0])}n.d(e,{A:()=>s})},1122:(t,e,n)=>{function s(...t){let e=t[0];if(e instanceof CSSStyleSheet)return e;if(e instanceof HTMLStyleElement)return e.sheet;if(Array.isArray(e)){const n=t[0];let s=n[0];for(let e=1;e<t.length;++e)s+=t[e],s+=n[e];e=s}if("string"!=typeof e)throw console.warn(e),console.trace(),new Error("Should not occurs");const n=new CSSStyleSheet;return n.replaceSync(e),n}n.d(e,{A:()=>s})},2841:(t,e,n)=>{n.d(e,{A:()=>r});var s=n(6372);function r(...t){let e=t[0];if((0,s.A)(t)){const n=t[0];let s=n[0];for(let e=1;e<t.length;++e)s+=t[e],s+=n[e];e=s}if(e instanceof DocumentFragment)return e.cloneNode(!0);let n=document.createElement("template");return"string"==typeof e?n.innerHTML=e.trim():(e instanceof HTMLElement&&(e=e.cloneNode(!0)),n.append(e)),n.content}},4792:(t,e,n)=>{var s=n(3213);n(7269).A.assertElement=async function(t,e={}){const n=e.shadow_html??null,r=e.css??{};await(0,s.A)(t);const a=document.querySelector(t);if(null===a)throw new Error("Component not found");if(a.tagName.toLowerCase()!==t)throw new Error(`Wrong tagname.\nExpected: ${t}\nGot: ${a.tagName.toLowerCase()}`);if("HTMLElement"===a.constructor.name)throw new Error("Element not upgraded!");if(n!==a.shadowRoot){if(null===n||null===a.shadowRoot)throw new Error("ShadowRoot missing or unexpected.");if(n!==a.shadowRoot.innerHTML)throw new Error(`HTML content mismatched.\nExpected: ${n}\nGot: ${a.shadowRoot.innerHTML}`)}for(let t in r){const e=r[t];let n;if(n=""===t?[a]:(a.content??a.shadowRoot??a).querySelectorAll(t),0===n.length)throw new Error(`Elements "${t}" not found`);for(let t of n){const n=getComputedStyle(t);for(let t in e)if(n.getPropertyValue(t)!==e[t])throw new Error(`CSS mismatch\n        Expected:${e}\n        Got: ${n}`)}}}}},a={};function o(t){var e=a[t];if(void 0!==e)return e.exports;var n=a[t]={exports:{}};return r[t](n,n.exports,o),n.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",s=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},o.a=(r,a,o)=>{var i;o&&((i=[]).d=-1);var l,c,u,h=new Set,d=r.exports,p=new Promise(((t,e)=>{u=e,c=t}));p[e]=d,p[t]=t=>(i&&t(i),h.forEach(t),p.catch((t=>{}))),r.exports=p,a((r=>{var a;l=(r=>r.map((r=>{if(null!==r&&"object"==typeof r){if(r[t])return r;if(r.then){var a=[];a.d=0,r.then((t=>{o[e]=t,s(a)}),(t=>{o[n]=t,s(a)}));var o={};return o[t]=t=>t(a),o}}var i={};return i[t]=t=>{},i[e]=r,i})))(r);var o=()=>l.map((t=>{if(t[n])throw t[n];return t[e]})),c=new Promise((e=>{(a=()=>e(o)).r=0;var n=t=>t!==i&&!h.has(t)&&(h.add(t),t&&!t.d&&(a.r++,t.push(a)));l.map((e=>e[t](n)))}));return a.r?c:o()}),(t=>(t?u(p[n]=t):c(d),s(i)))),i&&i.d<0&&(i.d=0)},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var i=o(7068),l=(i=await i).A;export{l as default};
//# sourceMappingURL=index.js.map