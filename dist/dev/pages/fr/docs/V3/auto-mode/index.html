<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf8"/>
        <title>LISS</title>
        <meta name="color-scheme" content="dark light">
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link   href="./index.css"  rel="stylesheet" blocking="render">
        <script  src="./index.js"  type="module"     blocking="render" async></script>
    </head>
    <body code-langs="js,bry">
        <main>

<h1 id="mode-automatique">Mode automatique</h1>
<p>Le mode automatique de LISS permet d&#39;importer automatiquement les composants Web utilis√©s par la page Web.<br><em>‚ö† Ce mode est principalement con√ßu pour √™tre utilis√© lors la phase de prototypage/conception d&#39;une page Web.</em></p>
<p>Il s&#39;utilise en ajoutant une balise <script type="c-html"><script></script> √† la page web :</p>
<script type="c-html">
    <!DOCTYPE html>
    <html>
        <head>
            ...
            <script type="module" src="<h>$LISS</h>"
                liss-cdir="<h>$CDIR</h>"
                liss-mode="auto-load"
            ><xscript>
        </head>
        <body>...<xbody>
    </html>
</script>

<p>Chaque composant Web <script type="c-text"><h>$NAME</h></script> est alors d√©fini par un ensemble de fichiers contenus dans le dossier <script type="c-text"><h>$CDIR</h>/<h>$NAME</h>/</script>.<br>Concr√®tement, votre projet pourra avoir l&#39;arborescence suivante (avec <script type="c-text"><h>$CDIR</h></script> = <script type="c-text">/components/</script>) :</p>
<script type="c-bash">
‚îú‚îÄ‚îÄ index.html # votre page web.
‚îú‚îÄ‚îÄ LISS.js    # la biblioth√®que LISS
‚îî‚îÄ‚îÄ components # <h>$CDIR</h>, le r√©pertoire contenant vos composants Web.
    ‚îî‚îÄ‚îÄ hello-world    # d√©fini le composant Web "hello-world".
        ‚îú‚îÄ‚îÄ index.html # le contenu  du composant Web "hello-world".
        ‚îî‚îÄ‚îÄ index.css  # l'affichage du composant Web "hello-world".
</script>

<p>La page Web pourra alors afficher une instance du composant Web via la balise HTML <script type="c-text"><<h>$NAME</h>></script> :</p>
<liss-playground name="hello-world" show="page.html,output">
</liss-playground>
<div style="text-align:right"><a href="../../../playground/?example=hello-world"><i>Tester l'exemple dans le bac √† sable</i></a></div>

<h2 id="d√©finir-le-contenu">D√©finir le contenu</h2>
<p>Par d√©faut, le contenu d&#39;un composant Web <script type="c-text"><h>$NAME</h></script> est d√©fini par le fichier <script type="c-text"><h>$CDIR</h>/<h>$NAME</h>/index.html</script> :</p>
<liss-playground name="hello-world" show="index.html,output">
</liss-playground>
<div style="text-align:right"><a href="../../../playground/?example=hello-world"><i>Tester l'exemple dans le bac √† sable</i></a></div>

<h2 id="d√©finir-laffichage">D√©finir l&#39;affichage</h2>
<p>Par d√©faut, l&#39;affichage d&#39;un composant Web <script type="c-text"><h>$NAME</h></script> est d√©fini par le fichier <script type="c-text"><h>$CDIR</h>/<h>$NAME</h>/index.css</script> :</p>
<liss-playground name="hello-world" show="index.css,output">
</liss-playground>
<div style="text-align:right"><a href="../../../playground/?example=hello-world"><i>Tester l'exemple dans le bac √† sable</i></a></div>

<h2 id="d√©finir-le-comportement">D√©finir le comportement</h2>
<h2 id="contenu-en-fonction-des-attributs">Contenu en fonction des attributs</h2>
<p>-&gt; HTML possible
-&gt; quelques fonctionnalit√©s avanc√©es en mode automatique si pas de JS/Brython pour faciliter le prototypage</p>
<p>Le contenu du composant Web peut √™tre dynamique, i.e. d√©pendre de l&#39;√©l√©ment h√¥te.</p>
<p>Le contenu de votre composant Web peut d√©pendre des attributs de l&#39;√©l√©ment h√¥te.
Pour indiquer cela, il suffit d&#39;ajouter √† votre composant Web des valeurs &quot;magiques&quot; avec <code>${}</code> :</p>
<pre><code class="language-html">Hello ${name}
</code></pre>
<p>√Ä l&#39;initialisation du composant Web, LISS remplace les <code>${ATTR_NAME}</code> par la valeur de l&#39;attribut <code>ATTR_NAME</code> de l&#39;h√¥te, e.g. :</p>
<pre><code class="language-html">&lt;hello-world name=&quot;user&quot;&gt;&lt;/hello-world&gt;
&lt;!-- affiche &quot;Hello user&quot; --&gt;
</code></pre>
<p>üí° Ce comportement &quot;magique&quot; est une fonctionnalit√© du mode automatique de LISS permettant de d√©finir du contenu dynamique sans n√©cessiter de JS/Brython.</p>
<p>‚ö† Par d√©faut, <code>${ATTR_NAME}</code> n&#39;est fix√© qu&#39;√† l&#39;initialis√© du composant Web, il n&#39;est ainsi pas mis √† jour si l&#39;attribut correspondant est modifi√© par la suite.</p>
<p>‚ö† Pour le moment, <code>${ATTR_NAME}</code> ne fonctionne que pour du texte. Il ne fonctionne pas √† l&#39;int√©rieur des attributs HTML.</p>
<h2 id="fonctionnement-interne-pour-les-d√©veloppeurs">Fonctionnement interne (pour les d√©veloppeurs)</h2>
<ol>
<li>si script liss-mode=auto-load + liss-cdir</li>
<li>detect all tags</li>
<li>addTag if not defined (check if already defined)</li>
<li>importComponentV3 (fetch files from cdir)</li>
<li>defineWebComponentV3 (build class + define it)</li>
</ol>
<p>-&gt; fetch
-&gt; donc requ√™tes/certaines inutile, pas perfs, proto/dev.</p>
<p>Le mode automatique de LISS est principalement con√ßu pour la conception de prototypes. Il n&#39;est ainsi pas con√ßu pour √™tre performant.</p>
<p>Si vous souhaitez plus de performances, il vous faudra alors utiliser le mode non-automatique.</p>
</main>
    </body>
</html>